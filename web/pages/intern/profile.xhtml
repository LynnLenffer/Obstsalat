<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

    <ui:composition template="/pages/template/layout.xhtml">

        <ui:define name="header">
            <ui:include src="/pages/template/loggedInHeader.xhtml" />
        </ui:define>


        <ui:define name="content">

            <h:panelGroup layout="block" class="row">

                <h:panelGroup layout="block" class="col-sm-3">
                    <h:panelGroup layout="block" class="box green">

                        <h:graphicImage class="maxWidth" value="/img/avatars/#{userBean.user.user_avatar}" />

                    </h:panelGroup>
                </h:panelGroup>

                <h:panelGroup layout="block" class="col-sm-6">

                    <ui:repeat value="#{postBean.posts}" var="post">

                        <h:panelGroup layout="block" class="box orange">
                            <h:panelGroup layout="block" class="row">
                                <h:panelGroup layout="block" class="col-sm-3">
                                    <div class="postImage" style="background-image: url(/img/profile/#{post.user_image});"></div>
                                </h:panelGroup>

                                <h:panelGroup layout="block" class="col-sm-9">

                                    <h:panelGroup layout="block" class="row message">
                                        <h:panelGroup layout="block" class="col-sm-12">
                                            <p>#{post.post_message}</p>
                                        </h:panelGroup>
                                    </h:panelGroup>

                                </h:panelGroup>

                            </h:panelGroup>

                            <h:panelGroup layout="block" class="postDetailsWrapper">

                                <h:panelGroup layout="block" class="col-sm-4 col-sm-offset-3">
                                    <h:graphicImage class="ratingImage ratingElement" value="/img/rating_positive.png" />
                                    <p class="postDetails ratingElement">#{post.post_rating_positive}</p>
                                    <h:graphicImage class="ratingImage ratingElement" value="/img/rating_negative.png" />
                                    <p class="postDetails ratingElement">#{post.post_rating_negative}</p>
                                </h:panelGroup>

                                <h:panelGroup layout="block" class="col-sm-5">
                                    <p class="postDetails">Geposted am: #{post.post_creation_date}</p>
                                </h:panelGroup>

                            </h:panelGroup>
                        </h:panelGroup>

                    </ui:repeat>

                </h:panelGroup>

                <h:panelGroup layout="block" class="col-sm-3">
                    <h:panelGroup layout="block" class="box green">

                        <h3>#{userBean.user.user_name}</h3>
                        <p>Registriert seit: #{userBean.user.user_creation_date}</p>
                        <p>E-Mail: #{userBean.user.user_email}</p>

                        <h:form id="deleteUser">
                            <h:commandButton id="deleteUserButton" class="orange maxWidth" value="Profil lÃ¶schen" action="#{userBean.deleteUser}"/>
                        </h:form>

                    </h:panelGroup>
                </h:panelGroup>

            </h:panelGroup>

        </ui:define>
    </ui:composition>

</html>
